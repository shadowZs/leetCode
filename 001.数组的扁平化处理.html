<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>数组的扁平化处理</title>
</head>
<body>
	
</body>
</html>
<script>
	// 编写一个程序将数组扁平化去并除其中重复部分数据，最终得到一个升序且不重复的数组



	var nums = [ [1, 2, 2], [3, 4, 5, 5], [6, 7, 8, 9, [11, 12, [12, 13, [14] ] ] ], 10];


	// 传统方式 
	let solution = function(nums){
		let resultArr = [];
		joinArr(nums);
		
		// 升序并去重
		resultArr.sort((a,b) => a-b);
		for(let i=1; i<resultArr.length;){
			if(resultArr[i] === resultArr[i-1]){
				resultArr.splice(i, 1)
			}else{
				i++
			}
		}

		// 递归函数实现扁平化
		function joinArr(nums){
			nums.forEach(item => {
				if(Array.isArray(item)){
					joinArr(item)
				}else{
					resultArr.push(item)
				}
			})
		}


		
		return resultArr;
	}

	// toString可以直接实现转换string
	let solution1 = function(nums){
		console.log(nums.toString());
		let newArr = nums.toString().split(',').sort((a,b) => a-b);
		console.log(newArr);
	}

	// es6 new Set 中各项都不重复
	// Array.prototype.flat(deep)  函數以遞迴方式將特定深度的子陣列重新串接成為一新的陣列 Infinity:深度
	console.log(nums.flat())
	console.log(new Set(nums.flat(Infinity)))
	console.log(Array.from(new Set(nums.flat(Infinity))))




	// let result = solution1(nums);
	// console.log(result);
</script>